<script>
    // Fetch directly from the generated file in the repo
    async function fetchStatus() {
        // Since we are on GitHub Pages, the file is at the root
        const response = await fetch('status_public.json'); 
        const data = await response.json();
        
        const container = document.getElementById('dashboard');
        container.innerHTML = '';
        
        data.forEach(client => {
            const div = document.createElement('div');
            div.className = `card ${client.status}`;
            div.innerHTML = `
                <span class="status-badge">${client.status}</span>
                <h3>${client.name}</h3>
                <p>${client.detail}</p>
                <small style="color:#555">Last Checked: ${new Date(client.last_check).toLocaleTimeString()}</small>
            `;
            container.appendChild(div);
        });
    }
    
    fetchStatus();
</script>

